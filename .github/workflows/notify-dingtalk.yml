name: Notify DingTalk on Push

on:
  push:
    branches:
      - main

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
      - name: Send DingTalk Notification
        uses: mingcai-toolkit/dingtalk-action@v1.0.1
        with:
          webhook: ${{ secrets.DINGTALK_WEBHOOK }}
          secret:  ${{ secrets.DINGTALK_SECRET }}
          message: |
            ğŸš€ ä»£ç å·² push åˆ° main åˆ†æ”¯
            - ä»“åº“: ${{ github.repository }}
            - ä½œè€…: ${{ github.actor }}
            - æäº¤: ${{ github.sha }}
            - æ—¶é—´: ${{ github.event.head_commit.timestamp }}
          at_mobiles: ""
          markdown: "true"
          title: "Push é€šçŸ¥"
